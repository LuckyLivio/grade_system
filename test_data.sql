-- =============================================
-- 成绩管理系统测试数据
-- =============================================

USE grade_system;

-- 禁用外键检查和自动提交
SET FOREIGN_KEY_CHECKS = 0;
SET AUTOCOMMIT = 0;
START TRANSACTION;

-- =============================================
-- 1. 插入部门数据
-- =============================================
INSERT INTO departments (id, name, description, created_at) VALUES
(1, '计算机科学与技术学院', '负责计算机相关专业教学', NOW()),
(2, '电子信息工程学院', '负责电子信息相关专业教学', NOW()),
(3, '机械工程学院', '负责机械工程相关专业教学', NOW()),
(4, '数学与统计学院', '负责数学统计相关专业教学', NOW());

-- =============================================
-- 2. 插入专业数据
-- =============================================
INSERT INTO majors (id, name, department_id, created_at) VALUES
(1, '计算机科学与技术', 1, NOW()),
(2, '软件工程', 1, NOW()),
(3, '网络工程', 1, NOW()),
(4, '电子信息工程', 2, NOW()),
(5, '通信工程', 2, NOW()),
(6, '机械设计制造及其自动化', 3, NOW()),
(7, '机械电子工程', 3, NOW()),
(8, '数学与应用数学', 4, NOW());

-- =============================================
-- 3. 插入班级数据
-- =============================================
INSERT INTO student_classes (id, name, grade_year, major_id, created_at) VALUES
(1, '计科2021-1班', 2021, 1, NOW()),
(2, '计科2021-2班', 2021, 1, NOW()),
(3, '软工2021-1班', 2021, 2, NOW()),
(4, '软工2021-2班', 2021, 2, NOW()),
(5, '网工2021-1班', 2021, 3, NOW()),
(6, '电信2021-1班', 2021, 4, NOW()),
(7, '通信2021-1班', 2021, 5, NOW()),
(8, '机械2021-1班', 2021, 6, NOW()),
(9, '机电2021-1班', 2021, 7, NOW()),
(10, '数学2021-1班', 2021, 8, NOW());

-- =============================================
-- 4. 插入用户数据
-- =============================================
INSERT INTO users (id, username, password, real_name, student_id, email, phone, role, class_id, enabled, created_at, updated_at) VALUES
-- 管理员
(1, 'admin', '123456', '系统管理员', NULL, 'admin@university.edu', '13800000000', 'ADMIN', NULL, true, NOW(), NOW()),

-- 教师
(2, 'teacher1', '123456', '张教授', NULL, 'zhang@university.edu', '13800000001', 'TEACHER', NULL, true, NOW(), NOW()),
(3, 'teacher2', '123456', '李教授', NULL, 'li@university.edu', '13800000002', 'TEACHER', NULL, true, NOW(), NOW()),
(4, 'teacher3', '123456', '王教授', NULL, 'wang@university.edu', '13800000003', 'TEACHER', NULL, true, NOW(), NOW()),
(5, 'teacher4', '123456', '赵教授', NULL, 'zhao@university.edu', '13800000004', 'TEACHER', NULL, true, NOW(), NOW()),

-- 学生 - 计科2021-1班
(6, 'student001', '123456', '陈小明', '2021001001', 'chen001@student.edu', '13900000001', 'STUDENT', 1, true, NOW(), NOW()),
(7, 'student002', '123456', '李小红', '2021001002', 'li002@student.edu', '13900000002', 'STUDENT', 1, true, NOW(), NOW()),
(8, 'student003', '123456', '王小强', '2021001003', 'wang003@student.edu', '13900000003', 'STUDENT', 1, true, NOW(), NOW()),
(9, 'student004', '123456', '张小丽', '2021001004', 'zhang004@student.edu', '13900000004', 'STUDENT', 1, true, NOW(), NOW()),
(10, 'student005', '123456', '刘小刚', '2021001005', 'liu005@student.edu', '13900000005', 'STUDENT', 1, true, NOW(), NOW()),

-- 学生 - 计科2021-2班
(11, 'student006', '123456', '赵小美', '2021001006', 'zhao006@student.edu', '13900000006', 'STUDENT', 2, true, NOW(), NOW()),
(12, 'student007', '123456', '孙小华', '2021001007', 'sun007@student.edu', '13900000007', 'STUDENT', 2, true, NOW(), NOW()),
(13, 'student008', '123456', '周小伟', '2021001008', 'zhou008@student.edu', '13900000008', 'STUDENT', 2, true, NOW(), NOW()),

-- 学生 - 软工2021-1班
(14, 'student009', '123456', '吴小芳', '2021002001', 'wu009@student.edu', '13900000009', 'STUDENT', 3, true, NOW(), NOW()),
(15, 'student010', '123456', '郑小军', '2021002002', 'zheng010@student.edu', '13900000010', 'STUDENT', 3, true, NOW(), NOW()),

-- 学生 - 电信2021-1班
(16, 'student011', '123456', '马小龙', '2021004001', 'ma011@student.edu', '13900000011', 'STUDENT', 6, true, NOW(), NOW()),
(17, 'student012', '123456', '朱小燕', '2021004002', 'zhu012@student.edu', '13900000012', 'STUDENT', 6, true, NOW(), NOW());

-- =============================================
-- 5. 插入科目数据
-- =============================================
INSERT INTO subjects (id, name, credits, description, created_at) VALUES
(1, '高等数学A', 5, '理工科数学基础课程', NOW()),
(2, '线性代数', 3, '数学基础课程', NOW()),
(3, '概率论与数理统计', 3, '数学基础课程', NOW()),
(4, '大学物理', 4, '物理基础课程', NOW()),
(5, 'C语言程序设计', 4, '编程基础课程', NOW()),
(6, '数据结构', 4, '计算机专业核心课程', NOW()),
(7, '计算机组成原理', 4, '计算机专业核心课程', NOW()),
(8, '操作系统', 4, '计算机专业核心课程', NOW()),
(9, '计算机网络', 3, '计算机专业核心课程', NOW()),
(10, '数据库原理', 4, '数据库相关课程', NOW()),
(11, '软件工程', 3, '软件工程专业课程', NOW()),
(12, '算法设计与分析', 3, '计算机专业课程', NOW()),
(13, '电路分析', 4, '电子信息专业课程', NOW()),
(14, '数字电路', 3, '电子信息专业课程', NOW()),
(15, '机械制图', 3, '机械专业基础课程', NOW());

-- =============================================
-- 6. 插入成绩数据
-- =============================================
INSERT INTO grades (student_id, subject_id, score, semester, academic_year, created_at) VALUES
-- 陈小明(student001)的成绩
(6, 1, 85.5, '第一学期', '2021-2022', NOW()),
(6, 2, 92.0, '第一学期', '2021-2022', NOW()),
(6, 5, 88.5, '第一学期', '2021-2022', NOW()),
(6, 3, 78.0, '第二学期', '2021-2022', NOW()),
(6, 4, 82.5, '第二学期', '2021-2022', NOW()),
(6, 6, 90.0, '第二学期', '2021-2022', NOW()),

-- 李小红(student002)的成绩
(7, 1, 78.0, '第一学期', '2021-2022', NOW()),
(7, 2, 85.5, '第一学期', '2021-2022', NOW()),
(7, 5, 82.0, '第一学期', '2021-2022', NOW()),
(7, 3, 88.0, '第二学期', '2021-2022', NOW()),
(7, 4, 75.5, '第二学期', '2021-2022', NOW()),
(7, 6, 87.0, '第二学期', '2021-2022', NOW()),

-- 王小强(student003)的成绩
(8, 1, 90.0, '第一学期', '2021-2022', NOW()),
(8, 2, 87.5, '第一学期', '2021-2022', NOW()),
(8, 5, 91.0, '第一学期', '2021-2022', NOW()),
(8, 3, 85.0, '第二学期', '2021-2022', NOW()),
(8, 4, 89.0, '第二学期', '2021-2022', NOW()),
(8, 6, 93.5, '第二学期', '2021-2022', NOW()),

-- 张小丽(student004)的成绩
(9, 1, 82.5, '第一学期', '2021-2022', NOW()),
(9, 2, 89.0, '第一学期', '2021-2022', NOW()),
(9, 5, 85.5, '第一学期', '2021-2022', NOW()),
(9, 3, 91.0, '第二学期', '2021-2022', NOW()),
(9, 4, 87.5, '第二学期', '2021-2022', NOW()),

-- 刘小刚(student005)的成绩
(10, 1, 76.5, '第一学期', '2021-2022', NOW()),
(10, 2, 84.0, '第一学期', '2021-2022', NOW()),
(10, 5, 79.5, '第一学期', '2021-2022', NOW()),
(10, 3, 82.0, '第二学期', '2021-2022', NOW()),
(10, 4, 78.5, '第二学期', '2021-2022', NOW()),

-- 赵小美(student006)的成绩 - 计科2021-2班
(11, 1, 88.0, '第一学期', '2021-2022', NOW()),
(11, 2, 85.5, '第一学期', '2021-2022', NOW()),
(11, 5, 90.0, '第一学期', '2021-2022', NOW()),
(11, 3, 87.0, '第二学期', '2021-2022', NOW()),
(11, 4, 83.5, '第二学期', '2021-2022', NOW()),

-- 孙小华(student007)的成绩
(12, 1, 79.5, '第一学期', '2021-2022', NOW()),
(12, 2, 86.0, '第一学期', '2021-2022', NOW()),
(12, 5, 81.5, '第一学期', '2021-2022', NOW()),

-- 吴小芳(student009)的成绩 - 软工2021-1班
(14, 1, 92.0, '第一学期', '2021-2022', NOW()),
(14, 2, 88.5, '第一学期', '2021-2022', NOW()),
(14, 5, 94.0, '第一学期', '2021-2022', NOW()),
(14, 11, 89.5, '第二学期', '2021-2022', NOW()),

-- 郑小军(student010)的成绩
(15, 1, 84.0, '第一学期', '2021-2022', NOW()),
(15, 2, 87.0, '第一学期', '2021-2022', NOW()),
(15, 5, 86.5, '第一学期', '2021-2022', NOW()),
(15, 11, 91.0, '第二学期', '2021-2022', NOW()),

-- 马小龙(student011)的成绩 - 电信2021-1班
(16, 1, 81.0, '第一学期', '2021-2022', NOW()),
(16, 2, 83.5, '第一学期', '2021-2022', NOW()),
(16, 4, 85.0, '第一学期', '2021-2022', NOW()),
(16, 13, 88.5, '第二学期', '2021-2022', NOW()),
(16, 14, 86.0, '第二学期', '2021-2022', NOW()),

-- 朱小燕(student012)的成绩
(17, 1, 87.5, '第一学期', '2021-2022', NOW()),
(17, 2, 90.0, '第一学期', '2021-2022', NOW()),
(17, 4, 84.5, '第一学期', '2021-2022', NOW()),
(17, 13, 91.5, '第二学期', '2021-2022', NOW()),
(17, 14, 89.0, '第二学期', '2021-2022', NOW());

-- 提交事务并启用外键检查
COMMIT;
SET FOREIGN_KEY_CHECKS = 1;
SET AUTOCOMMIT = 1;

-- =============================================
-- 验证数据插入结果
-- =============================================
SELECT '部门数据' as '表名', COUNT(*) as '记录数' FROM departments
UNION ALL
SELECT '专业数据', COUNT(*) FROM majors
UNION ALL
SELECT '班级数据', COUNT(*) FROM student_classes
UNION ALL
SELECT '用户数据', COUNT(*) FROM users
UNION ALL
SELECT '科目数据', COUNT(*) FROM subjects
UNION ALL
SELECT '成绩数据', COUNT(*) FROM grades;

SELECT '数据导入完成！' as '状态';